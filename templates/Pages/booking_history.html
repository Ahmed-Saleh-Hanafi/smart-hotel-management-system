{% extends 'base.html' %} 
    {% block content %} 
        {% load static %} 
        
    
     
  <style>
    
    .booking-con {
      padding-top: 90px;
      padding-bottom: 215px;
    }
    .history-container {
      max-width: 1200px;
    margin: auto;
    background: #fff;
    border-radius: 10px;
    padding: 30px;
    position: relative;
    
    box-shadow: 0 2px 20px rgb(13 23 35 / 84%);
    }

    h2 {
      margin-bottom: 20px;
    }
    
  


    .filters {
      display: flex;
      justify-content: flex-start;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .filters button {
      background: #f0f0f0;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
    }

    .filters button.active {
      background-color: #333;
      color: white;
    }

    .day-group {
      margin-bottom: 30px;
    }

    .day-group h3 {
      color: #888;
      margin-bottom: 15px;
      font-size: 15px;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
    }

    .entry {
      display: flex;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    .entry-time {
      width: 60px;
      font-size: 13px;
      color: #999;
    }

    .entry-icon {
      width: 30px;
      margin: 0 10px;
      font-size: 18px;
      text-align: center;
    }

    .entry-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      background: #f9f9fb;
      border-radius: 8px;
      padding: 12px 16px;
      flex-grow: 1;
      border: 1px solid #eee;
    }

    .booking-info {
      flex: 1;
    }

    .qr-code {
      width: 80px;
      height: 80px;
      margin-left: 20px;
      border-radius: 4px;
    }

    .entry-content h4 {
      margin: 0;
      font-size: 15px;
      color: #333;
    }

    .info-row {
      font-size: 14px;
      margin-top: 6px;
      color: #555;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 16px;
      font-size: 13px;
      font-weight: bold;
      margin-top: 6px;
    }

    .confirmed {
      background: #d4f5d3;
      color: #2e8b57;
    }

    .cancelled {
      background: #ffdede;
      color: #c0392b;
    }

    .pending {
      background: #fff5d1;
      color: #e0a800;
    }

    .stars {
      margin-top: 10px;
    }

    .star {
      font-size: 20px;
      color: #ccc;
      cursor: pointer;
      transition: color 0.3s;
    }
    .star:not(.locked):hover,
    .star:not(.locked):hover ~ .star:not(.locked) {
      color: gold;
    }

  .star.locked {
    pointer-events: none;
  }

  .stars {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
  }

  .star.selected {
    color: gold;
  }

  .feedback-box { 
    display: none;
    margin-top: 10px;
    }

  .feedback-box textarea {
    width: 70%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
    resize: vertical;
    }

  .feedback-box .buttons {
    margin-top: 8px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    }

  .feedback-box button {
    padding: 6px 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    }

    /* رسالة الخطأ الخاصة بالفيدباك */
.feedback-box .error-msg {
  color: red;
  font-size: 13px;
  display: none;
  margin-top: 4px;
}





  </style>



  <div class="booking-con">
    <div class="history-container">
      <h2>Booking History</h2>

      <!-- Filter buttons no longer functional but kept for design -->
      <div class="filters">
        <button class="active">All Bookings</button>
        <button>Completed</button>
        <button>Cancelled</button>
        <button>In Progress</button>
      </div>

      
      

      <div id="history-list">
        <!-- Example group: Thursday -->
        <div class="day-group">
          <h3>Thursday, 11 April 2025</h3>


          <!-- Add this after one of your existing booking entries -->
      
      
          <div class="In-progress">
        <div class="entry" data-status="in-progress">
          <div class="entry-time">12:30</div>
          <div class="entry-icon">⏳</div>
          <div class="entry-content">
            <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-09 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge pending">In Progress</div>
            </div>
            <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-123" alt="Booking QR Code">
          </div>
        </div>
      </div>


          <div class="completed">
          <div class="entry" data-status="confirmed">
            <div class="entry-time">12:30</div>
            <div class="entry-icon">✅</div>
            <div class="entry-content">
              <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-09 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge confirmed">Completed</div>
                <div class="stars">
                  ★ ★ ★ ★ ★
                </div>
              </div>
              <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-COMPLETED-456" alt="Booking QR Code">
            </div>
          </div>
          </div>

          <div class="canceled">
          <div class="entry" data-status="cancelled">
            <div class="entry-time">12:30</div>
            <div class="entry-icon">❌</div>
            <div class="entry-content">
              <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-03 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge cancelled">Cancelled</div>
              </div>
              <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-CANCELLED-789" alt="Booking QR Code">
            </div>
          </div>
          </div>

        

        <!-- Completed booking entry -->
        <div class="completed">
          <div class="entry" data-status="confirmed">
            <div class="entry-time">12:30</div>
            <div class="entry-icon">✅</div>
            <div class="entry-content">
              <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-09 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge confirmed">Completed</div>
                <div class="stars">
                  ★ ★ ★ ★ ★
                </div>
              </div>
              <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-COMPLETED-123" alt="Booking QR Code">
            </div>
          </div>
        </div>

        <!-- Cancelled booking entry -->
        <div class="canceled">
          <div class="entry" data-status="cancelled">
            <div class="entry-time">12:30</div>
            <div class="entry-icon">❌</div>
            <div class="entry-content">
              <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-03 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge cancelled">Cancelled</div>
              </div>
              <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-CANCELLED-123" alt="Booking QR Code">
            </div>
          </div>
        </div>

        </div>
        </div>

        <!-- Example group: Wednesday -->
        <div class="day-group">
          <h3>Wednesday, 12 April 2025</h3>
          <div class="completed">
          <div class="entry" data-status="confirmed">
            <div class="entry-time">12:30</div>
            <div class="entry-icon">✅</div>
            <div class="entry-content">
              <div class="booking-info">
                <h4>Deluxe Room</h4>
                <div class="info-row">Check-in: 2025-04-04 → Check-out: 2025-04-11</div>
                <div class="info-row">Total Price: $1500</div>
                <div class="info-row">Payment Method: Card</div>
                <div class="status-badge confirmed">Completed</div>
                <div class="stars">
                  ★ ★ ★ ★ ★
                </div>
              </div>
              <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=BOOKING-ID-COMPLETED-101" alt="Booking QR Code">
            </div>
          </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.filters button');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // Handle filter based on button text
            if (this.textContent === 'Completed') {
                document.querySelectorAll('.completed').forEach(el => {
                    el.style.display = 'block';
                });
                document.querySelectorAll('.canceled, .In-progress').forEach(el => {
                    el.style.display = 'none';
                });
            } else if (this.textContent === 'Cancelled') {
                document.querySelectorAll('.canceled').forEach(el => {
                    el.style.display = 'block';
                });
                document.querySelectorAll('.completed, .In-progress').forEach(el => {
                    el.style.display = 'none';
                });
            } else if (this.textContent === 'In Progress') { // Changed from 'in-progress' to 'In Progress'
                document.querySelectorAll('.In-progress').forEach(el => {
                    el.style.display = 'block';
                });
                document.querySelectorAll('.completed, .canceled').forEach(el => {
                    el.style.display = 'none';
                });
            } else if (this.textContent === 'All Bookings') {
                document.querySelectorAll('.completed, .canceled, .In-progress').forEach(el => {
                    el.style.display = 'block';
                });
            }
        });
    });
});
</script>



{% endblock content%}

